div.partials_product-search(ng-controller='ProductSearchPartialController as ctrl' ng-init='ctrl.init()')
    div.row
        div.col-xs-12.col-sm-6
            div.margin-bottom-15px
                div.row
                    div.col-xs-9
                        label #{__('product_group')}
                    div.col-xs-3.text-right
                        button.btn.btn-xs.btn-default(ng-click='ctrl.clearSelectedGroup()')
                            i.fa.fa-window-close.text-danger
                select#partials_product-search_select-product-group.form-control

        div.col-xs-12.col-sm-6
            div.margin-bottom-15px
                div.row
                    div.col-xs-9
                        label #{__('product_type')}
                    div.col-xs-3.text-right
                        button.btn.btn-xs.btn-default(ng-click='ctrl.clearSelectedType()')
                            i.fa.fa-window-close.text-danger
                select#partials_product-search_select-product-type.form-control(ng-disabled='!ctrl.selectedProductGroup')
    div.row
        div.col-xs-12.col-sm-6
            div.margin-bottom-15px
                div.row
                    div.col-xs-9
                        label #{__('product_brand')}
                    div.col-xs-3.text-right
                        button.btn.btn-xs.btn-default(ng-click='ctrl.clearSelectedBrand()')
                            i.fa.fa-window-close.text-danger
                select#partials_product-search_select-product-brand.form-control()
                    button.btn.btn-default(ng-click='ctrl.clearSelectedBrand()')
        div.col-xs-12.col-sm-6
            div.margin-bottom-15px
                div.row
                    div.col-xs-9
                        label #{__('suppliers_')}
                    div.col-xs-3.text-right
                        button.btn.btn-xs.btn-default(ng-click='ctrl.clearSelectedSupplier()')
                            i.fa.fa-window-close.text-danger
                select#partials_product-search_select-product-supplier.form-control()

    div
        div.row
            div.col-xs-6
                label #{__('model_filter')}
            div.col-xs-6.text-right
                button.btn.btn-xs.btn-default(ng-click='ctrl.refreshProducts()')
                    i.fa.fa-refresh
                    span &nbsp; #{__('refresh_')}
        div.input-group.margin-bottom-15px
            span.input-group-addon
                span.glyphicon.glyphicon-search
            input.form-control(ng-model='ctrl.productFilter' ng-change='ctrl.filterProduct()' ng-disabled='ctrl.queryingProduct')

    div.margin-bottom-5px.margin-left-5px.margin-right-5px
        div.row(style='white-space: pre')
            div.col-xs-5
                label #{__('type_')}
            div.col-xs-3
                label #{__('model_')}
            div.col-xs-1.text-right
                label #{__('available_')}
            div.col-xs-3.text-right
                label #{__('last_price')}
    div.search-result
        div(ng-show='!ctrl.queryingProduct && ctrl.filteredProducts && ctrl.filteredProducts.length')
            div.product-record(ng-repeat='product in ctrl.filteredProducts track by $index' ng-click='selectProduct(product)' ng-class='{even: $index%2, selected: product === ctrl.selectedProduct}' )
                div.row
                    div.col-xs-5
                        span {{product.typeID.name}}
                    div.col-xs-3
                        span {{product.model}}
                    div.col-xs-1.text-right
                        span {{product.available}}
                    div.col-xs-3.text-right
                        span {{product.lastOutStock? (product.lastOutStock.price | currency : '' : '') : '-'}}
        div.text-center.no-data(ng-show='(!ctrl.filteredProducts || !ctrl.filteredProducts.length) && !ctrl.queryingProduct && !ctrl.queryFailed')
            span #{__('no_result')}
        div.text-center(ng-show='ctrl.queryFailed')
            span.text-danger
                i.fa.fa-exclamation-triangle
                span &nbsp; {{ctrl.queryFailed}}
        div.text-center(ng-show='ctrl.queryingProduct')
            span
                i.fa.fa-spinner.fa-spin
