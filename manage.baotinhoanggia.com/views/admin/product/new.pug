div.admin-product-new(ng-controller='AdminProductAddController as ctrl' ng-init='ctrl.init()')
    div
        div.row
            div.col-xs-12.col-sm-6
                div.panel-header-title #{__('add_new_product')}
            //div.col-xs-12.col-sm-6
                div.text-right
                    button.action.btn.btn-primary.margin-bottom-15px(ng-click='ctrl.addCustomer()')
                        span
                            i.fa.fa-plus
                            span &nbsp;
                        span #{__('add_customer')}

    div.panel.panel-default.main-panel
        div.panel-body
            form(editable-form='', name='addProductForm' shown='true' onbeforesave='ctrl.addProduct($data)')
                fieldset(ng-disabled='ctrl.addingProduct || (ctrl.uploadingPhotos && ctrl.uploadedCount < ctrl.productImages.length)')
                    div.row
                        div.col-xs-12.col-sm-6
                            div
                                div.margin-bottom-15px
                                    div.row
                                        div.col-xs-6
                                            label #{__('product_group')}
                                        div.col-xs-6.text-right
                                            label
                                                input(type='checkbox' ng-model='ctrl.keepGroup')
                                                span &nbsp; #{__('keep_')}
                                    select#select_product_group.form-control(ng-disabled='ctrl.addingProduct')

                                div.margin-bottom-15px
                                    div.row
                                        div.col-xs-6
                                            label #{__('product_type')}
                                        div.col-xs-6.text-right
                                            label
                                                input(type='checkbox' ng-model='ctrl.keepType')
                                                span &nbsp; #{__('keep_')}
                                    select#select_product_type.form-control(ng-disabled='!ctrl.selectedProductGroup || ctrl.addingProduct')

                                div.margin-bottom-15px
                                    div.row
                                        div.col-xs-6
                                            label #{__('product_brand')}
                                        div.col-xs-6.text-right
                                            label
                                                input(type='checkbox' ng-model='ctrl.keepBrand')
                                                span &nbsp; #{__('keep_')}
                                    select#select_product_brand.form-control(ng-disabled='ctrl.addingProduct')

                                div.margin-bottom-15px
                                    label #{__('model_')}
                                    div(editable-text="ctrl.product.model" e-name="model" e-form='addProductForm' onbeforesave='ctrl.checkProductAttribute("model", $data)' e-required)

                                div.margin-bottom-15px
                                    label #{__('description_')}
                                    textarea.form-control.fixed-textarea(ng-model='ctrl.product.description' row='5')

                        div.col-xs-12.col-sm-6
                            div
                                div.margin-bottom-15px
                                    div.row
                                        div.col-xs-12.col-sm-6
                                            label #{__('stock_init')}
                                            input.form-control(type='number' ng-model='ctrl.product.initInStock')
                                        div.col-xs-12.col-sm-6
                                            label #{__('store_branch')}
                                            select#select_store_branch.form-control()
                                div.row.margin-bottom-15px
                                    div.col-xs-12.col-sm-6
                                        label #{__('in_price_init')}
                                        input.form-control(cleave="cleaveOptions.currency" type='text' ng-model='ctrl.product.initInPrice' )
                                    div.col-xs-12.col-sm-6
                                        label #{__('out_price_init')}
                                        input.form-control(cleave="cleaveOptions.currency" type='text' ng-model='ctrl.product.initOutPrice' )
                                div.margin-bottom-15px
                                    label #{__('product_images')}
                                    div.panel.panel-default
                                        div.panel-body(ngf-drop-disabled='ctrl.addingProduct' ngf-drop="ctrl.loadProductFiles($files)" ngf-drag-over-class="'img-upload-drop-over'" ngf-max-files='5' ngf-multiple='true' ngf-pattern="'image/*'")
                                            div.img-wrapper(ng-repeat='image in ctrl.productImages')
                                                img(ngf-thumbnail="image" image-on-load='image.loaded = true')
                                                span.info-float.close-float.text-danger(ng-click='ctrl.removeProductImage(image)' ng-hide='image.isBeingUploaded || !image.loaded || image.uploadProceeded')
                                                    i.fa.fa-minus-circle
                                                span.info-float(ng-show='image.isBeingUploaded || !image.loaded')
                                                    i.fa.fa-refresh.fa-spin
                                                span.info-float.text-success(ng-show='image.uploadSucceeded === true')
                                                    i.fa.fa-check-circle
                                                span.info-float.text-warning(ng-show='image.uploadSucceeded === false')
                                                    i.fa.fa-exclamation-circle
                                            div.img-upload-wrapper(ng-hide='ctrl.productImages && ctrl.productImages.length === 5 || ctrl.addingProduct')
                                                label
                                                    i.fa.fa-plus-circle
                                                    input(style='display: none' type='file', ngf-select="ctrl.loadProductFiles($files)", ngf-multiple='true' ngf-max-files='5', ngf-pattern="'image/*'")
                                div.margin-bottom-15px
                                    label #{__('suppliers_')}
                                    select#select_product_suppliers.form-control(ng-disabled='ctrl.addingProduct')
                    div.row.flex
                        div.col-xs-6.vf-center
                            label
                                input(type='checkbox' ng-model='ctrl.keepPage')
                                span &nbsp; #{__('keep_page')}
                        div.col-xs-6.text-right.vf-center
                            button.btn.btn-primary.action(type='submit' ng-disabled='!ctrl.selectedProductGroup || !ctrl.product.typeID || !ctrl.product.brandID')
                                span(ng-show='ctrl.addingProduct')
                                    i.fa.fa-spin.fa-spinner
                                    span &nbsp;
                                span #{__('add_')}

